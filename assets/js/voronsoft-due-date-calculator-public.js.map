{"version":3,"names":[],"mappings":"","sources":["voronsoft-due-date-calculator-public.js"],"sourcesContent":["( function( $ ) {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * All of the code for your public-facing JavaScript source\r\n\t * should reside in this file.\r\n\t *\r\n\t * Note: It has been assumed you will write jQuery code here, so the\r\n\t * $ function reference has been prepared for usage within the scope\r\n\t * of this function.\r\n\t *\r\n\t * This enables you to define handlers, for when the DOM is ready:\r\n\t *\r\n\t * $(function() {\r\n\t *\r\n\t * });\r\n\t *\r\n\t * When the window is loaded:\r\n\t *\r\n\t * $( window ).load(function() {\r\n\t *\r\n\t * });\r\n\t *\r\n\t * ...and/or other possibilities.\r\n\t *\r\n\t * Ideally, it is not considered best practise to attach more than a\r\n\t * single DOM-ready or window-load handler for a particular page.\r\n\t * Although scripts in the WordPress core, Plugins and Themes may be\r\n\t * practising this, we should strive to set a better example in our own work.\r\n\t */\r\n$( document ).ready( function() {\r\n\tvar form = $( \"#calculator\" ),\r\n\t\tsubmit = form.find( \"input[type='submit']\" ),\r\n\t\tinputWeeks = form.find( \".form__weeks\" ),\r\n\t\tsendText = form.find( \".post\" );\r\n\r\n\t// $.datepicker.setDefaults({\r\n\t// \tshowOn: \"button\",\r\n\t// \tbuttonImage: \"/img/calendar.svg\",\r\n\t// \tdateFormat: 'dd-mm-yy',\r\n\t// \tfirstDay: 1,\r\n\t// \tshowAnim: 'slideDown',\r\n\t// \tisRTL: false,\r\n\t// \tshowMonthAfterYear: false,\r\n\t// \tyearSuffix: ''\r\n\t// } );\r\n\r\n\t// $( \".date, .datepicker\" ).datepicker( { dateFormat: \"dd/mm/yy\" } );\r\n\t$( \"#calendar\" ).pignoseCalendar( {\r\n\t\tmodal: true,\r\n\t\tbuttons: true,\r\n\t\tapply: function( date ) {\r\n\t\t\tvar b = date[ 0 ];\r\n\t\t\tvar date = moment( new Date() );\t\t\t\r\n\t\t\tvar sip = date.diff( b, \"d\");\r\n\t\t\tvar weeks = Math.floor(sip/7);\r\n\t\t\tvar days = weeks*7;\r\n\t\t\tvar current = sip - days;\r\n\t\t\tvar text = weeks + \" week and \" + current + \" days\";\r\n\t\t\tconsole.log( text );\r\n\t\t\tvar birthday = b.add(281, \"days\").format(\"MMMM DD, YYYY\");\r\n\r\n\t\t\tconsole.log( birthday );\r\n\r\n\t\t\t$( \".form__todate\" ).append( text );\r\n\t\t\t$( \".form__birthday\" ).val( birthday );\r\n\t\t\t$( \".form__weeks\" ).val( weeks );\r\n\t\t}\r\n\t} );\r\n\r\n\tsubmit.click( function( e ) {\r\n\t\te.preventDefault();\r\n\t\t$( sendText ).empty();\r\n\t\tvar weeks = inputWeeks.val();\r\n\t\tconsole.log( weeks );\r\n\t\tvar weekHandler = $.ajax( {\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: flatpyramid_l10n.ajax_url,\r\n\t\t\tdata: {\r\n\t\t\t\taction: \"handle_request\",\r\n\t\t\t\tvs_action: \"formFilter\",\r\n\t\t\t\tweekCount: weeks\r\n\t\t\t},\r\n\t\t\tsuccess: function( response ) {\r\n\t\t\t\tconsole.log( response );\r\n\t\t\t\t$( sendText ).append( response.data.form );\r\n\t\t\t}\r\n\t\t} );\r\n\t} );\r\n\r\n} );\r\n} )( jQuery );"],"file":"voronsoft-due-date-calculator-public.js"}