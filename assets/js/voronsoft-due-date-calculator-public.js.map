{"version":3,"names":[],"mappings":"","sources":["voronsoft-due-date-calculator-public.js"],"sourcesContent":["( function( $ ) {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * All of the code for your public-facing JavaScript source\r\n\t * should reside in this file.\r\n\t *\r\n\t * Note: It has been assumed you will write jQuery code here, so the\r\n\t * $ function reference has been prepared for usage within the scope\r\n\t * of this function.\r\n\t *\r\n\t * This enables you to define handlers, for when the DOM is ready:\r\n\t *\r\n\t * $(function() {\r\n\t *\r\n\t * });\r\n\t *\r\n\t * When the window is loaded:\r\n\t *\r\n\t * $( window ).load(function() {\r\n\t *\r\n\t * });\r\n\t *\r\n\t * ...and/or other possibilities.\r\n\t *\r\n\t * Ideally, it is not considered best practise to attach more than a\r\n\t * single DOM-ready or window-load handler for a particular page.\r\n\t * Although scripts in the WordPress core, Plugins and Themes may be\r\n\t * practising this, we should strive to set a better example in our own work.\r\n\t */\r\n$( document ).ready( function() {\r\n\tvar form = $( \".vsc__wrapper\" ),\r\n\t\tinputWeeks = form.find( \".vsc__weeks\" ),\r\n\t\tsendText = form.find( \".vsc__post\" );\r\n\r\n\t$( \".calendar\" ).pignoseCalendar( {\r\n\t\ttheme: \"blue\",\r\n\t\tmodal: true,\r\n\t\tbuttons: true,\r\n\t\tmaxDate: moment( new Date() ),\r\n\t\tminDate: moment( new Date() ).subtract( 301, \"days\" ),\r\n\t\tapply: function( date ) {\r\n\r\n\t\t\t//Clear div's\r\n\r\n\t\t\t$( \".vsc__date\" ).empty();\r\n\t\t\t$( \".vsc__todate\" ).empty();\r\n\t\t\t$( \".vsc__birthday\" ).empty();\r\n\r\n\t\t\t//Variables\r\n\r\n\t\t\tvar dateNow, sip, weeks, days, current, text, birthday, birthOutput, b, dWeeks;\r\n\r\n\t\t\t//Get date from Calendar\r\n\r\n\t\t\tb = moment( date[ 0 ]._i );\r\n\t\t\t$( \".vsc__date\" ).append( b.format( \"MMMM DD, YYYY\" ) );\r\n\t\t\tdateNow = moment( new Date() );\r\n\t\t\tsip = dateNow.diff( b, \"d\" );\r\n\t\t\t$( \".vsc__error\" ).fadeOut();\r\n\t\t\tweeks = Math.ceil( sip / 7 );\r\n\t\t\tdWeeks = Math.floor( sip / 7 );\r\n\t\t\tdays = dWeeks * 7;\r\n\t\t\tcurrent = sip - days;\r\n\t\t\tif ( weeks === 0 && current === 0 ) {\r\n\t\t\t\tweeks = 1;\r\n\t\t\t\ttext = \"You are pregnant <span> One Day </span>\";\r\n\t\t\t} else {\r\n\t\t\t\ttext = \"You are <span>\" + dWeeks + \" weeks</span> and <span>\" + current + \" days</span> pregnant\";\r\n\t\t\t}\r\n\t\t\tbirthday = b.add( 301, \"days\" ).format( \"MMMM DD, YYYY\" );\r\n\t\t\tbirthOutput = \"The baby will be born in <span>\" + birthday + \"</span>\";\r\n\r\n\t\t\t//Append values to elements\r\n\r\n\t\t\t$( \".vsc__todate\" ).append( text );\r\n\t\t\t$( \".vsc__birthday\" ).append( birthOutput );\r\n\t\t\t$( \".vsc__weeks\" ).val( weeks );\r\n\t\t\t$( \".vsc__wprapper_info\" ).fadeIn();\r\n\t\t\tsendForm();\r\n\t\t}\r\n\t} );\r\n\r\n\tfunction sendForm() {\r\n\t\tvar sendWeeks;\r\n\t\t$( sendText ).empty();\r\n\t\tsendWeeks = inputWeeks.val();\r\n\t\tvar weekHandler = $.ajax( {\r\n\t\t\ttype: \"POST\",\r\n\t\t\turl: flatpyramid_l10n.ajax_url,\r\n\t\t\tdata: {\r\n\t\t\t\taction: \"handle_request\",\r\n\t\t\t\tvs_action: \"formFilter\",\r\n\t\t\t\tweekCount: sendWeeks\r\n\t\t\t},\r\n\t\t\tsuccess: function( response ) {\r\n\t\t\t\t$( sendText ).append( response.data.form );\r\n\t\t\t}\r\n\t\t} );\r\n\t};\r\n\r\n} );\r\n} )( jQuery );"],"file":"voronsoft-due-date-calculator-public.js"}